---
layout: post
title: AWS Elastic Load Balancer(ELB)
date: 2024-07-30
category: AWS
---

# AWS

> AWS DVA-C02 시험 공부 과정을 블로그에 기록하고자 한다!! <br>
> 강의는 [udemy](https://www.udemy.com/share/105Hxw3@0cQdz1131EH9l6miYRGC7Z2Im8bmTMdAo7U-M_IUQA0101eYlVeFerKpk6CkYQwlDA==/) 강의를 참고하였다.

<br>

# 확장성과 고가용성
- 확장성: 조정을 통해 더 많은 양을 처리할 수 있다는 의미
  - 수직 확장성: 인스턴스의 크기 확장(스케일 업, 스케일 다운)
  - 수평 확장성 (탄력성): 인스턴스 수나 시스템 수를 늘리는 방법(스케일 아웃, 스케일 인)
    - 오토 스케일링 그룹, 로드 밸런서
- 고가용성: 애플리케이션 또는 시스템을 적어도 둘 이상의 AWS의 AZ나 데이터 센터에서 가동중을 의미
  - 센터 하나가 멈춰도 다른 센터에서 가동하게 하기 위한 것이다.
  - 오토 스케일링 그룹, 로드밸런서

# 로드 밸런싱
- **로드 밸런서**는 서버셋으로 트래픽을 분산시켜주는 역할을 한다. 
- 부하를 다수의 다운스트림 인스턴스로 분산해준다.
- 애플리케이션에 단일 액세스 지점(DNS)를 노출하게 되고 다운스트림 인스턴스의 장애를 원할히 처리할 수 있게 해준다. (어떤 인스터스로 트래픽을 보낼수 없는지 확인해주기 때문)
- 쿠키로 고정도를 강화할 수 있다.
- 고가용성을 갖게 된다.
- 클라우드 내에서 개인 트래픽과 공공 트래픽을 분리할 수 있다.

  ![alt text](\public\img\aws10-1.png){: width="500" height ="80" }


# Elastic Load Balancer
- AWS가 관리, 업그레이드와 유지 관리 및 고가용성을 책임지며 로드 밸런서의 작동 방식을 수정할 수 있게끔 일부 구성 놉도 제공한다.
- 여러 AWS 서비스들과 동합되어있다. (EC2, ASG, ECS, CloudWatch, 53...)

### Health Check
- ELB가 EC2인스턴스의 작동이 올바르게 되고 있는지 확인하기 위해 사용한다. 
- 헬스 체크는 포트와 라우트에서 이뤄진다. 
- HTTP코드가 200이 아닐 경우 인스턴스 상태가 좋지 않은걸로 판단하고 해당 인스턴스에 트래픽을 보내지 않는다.

  ![alt text](\public\img\aws10-2.png){: width="500" height ="80" }

### AWS 로드밸런서 종류
- 클래식 로드 밸런서(2009~): CLB
  - 사용을 권장하지 않는다.
- 애플리케이션 로드밸런서(2016~): ALB
  - HTTP, HTTPS, Websocket 지원
- 네트워크 로드밸런서(2017~): NLB
  - TCP, TLS, UDP 지원
- 게이트웨이 로드밸런서(2020~): GWLB
  - 네트워크 층에서 작동

